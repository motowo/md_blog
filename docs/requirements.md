# 要件定義書

## 1. 概要
本プロジェクトは、ITエンジニアが自身の知識や経験を発信し、収益化できる有料コンテンツ共有プラットフォームを構築することを目的とする。

## 2. ターゲットユーザーとペルソナ

### 2.1. 投稿ユーザー (コンテンツ作成者)
- **ペルソナ: 高橋 健太**
    - **年齢**: 28歳
    - **職業**: 都内のWeb系企業で働くバックエンドエンジニア（経験3年）
    - **技術スタック**: PHP(Laravel), Go, AWS
    - **課題/ニーズ**:
        - 業務で得た知見や個人開発の学びをアウトプットする場が欲しい。
        - 自分の知識や経験に価値があるのか試してみたい（収益化への興味）。
        - 他のエンジニアがどのような技術を学び、どう課題解決しているのか知りたい。
        - ZennやQiitaのように、技術情報に特化しつつ、手軽に有料記事を販売できるプラットフォームを探している。

### 2.2. サイト運営者
- **ペルソナ1: 佐藤 雅人 (マネージャー)**
    - **年齢**: 38歳
    - **役職**: プラットフォーム運営部署のマネージャー（元エンジニア）
    - **課題/ニーズ**:
        - プラットフォーム全体の健全性を保ちたい（不適切なコンテンツの排除、ユーザー間のトラブル対応）。
        - サイトの成長指標（ユーザー数、記事投稿数、売上）を正確に把握し、事業戦略を立てたい。
        - エンジニアコミュニティにとって価値のあるプラットフォームとして成長させたい。
        - 効率的な運営体制を構築したい。

- **ペルソナ2: 鈴木 あやか (運営オペレーター)**
    - **年齢**: 25歳
    - **役職**: 運営オペレーター（マーケター志望）
    - **課題/ニーズ**:
        - ユーザーからの問い合わせに迅速かつ正確に対応したい。
        - 魅力的なコンテンツを発掘し、プロモーション（特集記事、SNSでの紹介など）を行いたい。
        - ユーザー動向や人気コンテンツの傾向を分析し、マーケティング施策に活かしたい。
        - サイトの利用規約やガイドラインをユーザーに分かりやすく伝えたい。

## 3. 機能要件

### 3.1. 投稿ユーザー向け機能
- **ユーザー登録・ログイン機能**: メールアドレスとパスワードによる登録・ログイン。
- **プロフィール管理機能**: プロフィール情報（ユーザー名、自己紹介など）の編集。
- **記事投稿・編集機能**:
    - **高機能マークダウンエディタ**:
        - リアルタイムプレビュー
        - コードブロックのシンタックスハイライト（言語選択付き）
        - コードブロック内コピーボタン
    - 記事の公開・非公開設定。
    - 記事の有料・無料設定。
    - **技術タグ設定機能**: 記事に複数の技術タグ（例: `React`, `Laravel`）を設定。
- **ダッシュボード機能**: 自身の記事一覧、収益状況の確認。
- **収益受け取り設定機能**: 収益の振込先口座情報の設定。

### 3.2. サイト運営者向け機能
- **[マネージャー向け] ダッシュボード機能**:
    - **重要指標の可視化**: ユーザー数、記事投稿数、売上、アクティブユーザー数などをグラフで表示。
    - **収益管理**: サイト全体の収益状況、決済履歴の確認。
- **[オペレーター向け] コンテンツ管理機能**:
    - **記事管理**: 全記事の一覧表示、内容確認、公開・非公開設定、削除。
    - **特集記事設定**: 特定の記事をトップページなどで目立たせる機能。
- **[オペレーター向け] ユーザー管理機能**:
    - **ユーザー管理**: 投稿ユーザーの一覧表示、情報編集、アカウント停止。
    - **問い合わせ対応管理**: ユーザーからの問い合わせ内容を一元管理。
- **[共通] サイト運営機能**:
    - **収益分配管理**: 投稿ユーザーへの収益分配処理。
    - **サイト設定**: サイト名、ロゴ、利用規約、プライバシーポリシーなどの設定。
    - **タグ管理**: 技術タグの追加・編集・削除。
    - **お知らせ・アナウンス機能**: サイト全体へのお知らせ配信。

### 3.3. 共通機能
- **記事閲覧機能**:
    - 無料記事の閲覧。
    - **有料記事の購入・閲覧（Mock決済）**: 実際の決済処理は行わず、モックとして購入フローを実装する。
    - 記事検索（キーワード、タグ）。
- **コメント機能**: 記事へのコメント投稿、閲覧。
- **お問い合わせ機能**: サイト運営者へのお問い合わせフォーム。
- **ダークモード切替機能**: サイトの表示をライト/ダークモードで切り替え。

## 4. 非機能要件
- **パフォーマンス**: 記事表示、検索などの主要機能は3秒以内に応答。
- **セキュリティ**:
    - ユーザー認証情報の安全な管理。
    - **決済情報の安全な処理**: Mock実装のため、本番の決済情報は扱わない。ただし、将来的な本番決済システム導入を想定した設計とする。
    - SQLインジェクション、XSSなどの脆弱性対策。
- **可用性**: 稼働率99.9%以上。
- **拡張性**: 将来的な機能追加（例: サブスクリプションモデル、本番決済システムへの移行）に対応可能なアーキテクチャ。
- **保守性**: コードの可読性、テスト容易性の確保。
- **スケーラビリティ**: アクセス増加に対応できるシステム構成。
- **対応デバイス**: PCのみ対応。

## 5. 技術スタック
- **フロントエンド**: React.js (v18.x), TypeScript (v5.x), Tailwind CSS (v3.x)
- **バックエンド**: PHP (v8.3.x), Laravel (v11.x)
- **データベース**: MySQL (v8.0.x)
- **インフラ**: AWS, Docker

## 6. スコープ
- ITエンジニアによる技術記事の投稿・管理、有料コンテンツの提供。
- サイト運営者によるユーザー・記事・収益・タグの管理。
- 記事の閲覧、購入（**Mock決済**）、コメント機能。
- 初期段階では、単発記事購入モデルを想定。

## 7. 成果物
- 要件定義書 (requirements.md)
- 技術設計書 (design.md)
- 開発タスク (tasks.md)
- フロントエンドアプリケーション
- バックエンドAPI
- データベーススキーマ
- デプロイ手順書

## 8. MVPと機能優先順位

### 8.1. MVP (Minimum Viable Product)
- **投稿ユーザー向け**:
    - ユーザー登録・ログイン
    - **高機能マークダウンエディタ**（シンタックスハイライト、コピーボタン）
    - 記事投稿（公開/非公開、有料/無料設定）
    - **技術タグ設定**
    - 自身の記事一覧・詳細閲覧
- **サイト運営者向け**:
    - **[マネージャー向け] 収益管理ダッシュボード**（サイト全体の収益状況確認）
    - **[オペレーター向け] ユーザー管理**（一覧、アカウント停止）
    - **[オペレーター向け] 記事管理**（一覧、内容確認、削除）
- **共通**:
    - 記事閲覧（無料、**有料購入・閲覧（Mock決済）**）
    - 記事検索（キーワード、タグ）
    - **ダークモード対応**

### 8.2. 機能優先順位 (MVPリリース後)
- **高優先度 (Phase 2)**:
    - プロフィール管理
    - 投稿ユーザー向けダッシュボード
    - 収益受け取り設定
    - サイト運営者向け収益分配管理
    - コメント機能
    - **[マネージャー向け] 重要指標可視化ダッシュボード**
- **中優先度 (Phase 3)**:
    - サイト設定機能
    - タグ管理機能
    - お問い合わせ機能
    - **[オペレーター向け] 特集記事設定機能**
- **低優先度 (将来的な拡張)**:
    - お知らせ・アナウンス機能
    - サブスクリプションモデル導入
    - **本番決済システムの導入**
